<!doctype><html><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Odyssey.js Scroll</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" type="image/x-icon" href="http://cartodb.github.io/odyssey.js/sandbox/favicon.png">
  <link rel="icon" type="image/png" href="http://cartodb.github.io/odyssey.js/sandbox/favicon.png">

  <link rel="stylesheet" href="http://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/themes/css/cartodb.css">
  <link rel="stylesheet" href="http://cartodb.github.io/odyssey.js/sandbox/css/scroll.css">
  <script src="http://cartodb.github.io/odyssey.js/vendor/modernizr-2.6.2.min.js"></script>
</head>
<body>
  <div id="layout">
    <!--<div class="progress-bar"></div>-->

    <div class="inner-header">
      <div id="header"></div>
    </div>

    <div id="map_pos">
      <div id="map_container">
        <div id="map"></div>
      </div>
    </div>

    <div id="content"></div>

    <div id="credits">
      <span class="title" id="title">Title</span>
      <span class="author"><b id="author">By Name using</b> <a href="#">Odyssey.js</a><span>
    </span></span></div>
  </div> <!-- layout -->

  <script src="http://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/cartodb.js"></script>
  <script src="http://cartodb.github.io/odyssey.js/dist/odyssey.js" charset="UTF-8"></script>

  <script>
    O.Template({
      init: function() {
        var baseurl = this.baseurl = 'http://{s}.api.cartocdn.com/base-light/{z}/{x}/{y}.png';
        var map = this.map = L.map('map',{
          center: [0, 0],
          zoom: 4
        });

        this.map.scrollWheelZoom.disable();

        var basemap = this.basemap = L.tileLayer(baseurl, {
          attribution: 'data OSM - map CartoDB'
        }).addTo(map);

        var story = O.Story()

        this.story = story;
        this.miniprogressbar = O.MiniProgressBar();

        // trigger when  map_pos go out of the screen
        this.edge = O.Edge(
          O.Triggers.Scroll().less('map_pos').offset(0),
          O.Triggers.Scroll().greater('map_pos').offset(0)
        )
      },

      update: function(actions) {
        var self = this;

        this.story.clear();

        if (this.baseurl && (this.baseurl !== actions.global.baseurl)) {
          this.baseurl = actions.global.baseurl || 'http://0.api.cartocdn.com/base-light/{z}/{x}/{y}.png';

          this.basemap.setUrl(this.baseurl);
        }

        if (this.cartoDBLayer && ("http://"+self.cartoDBLayer.options.user_name+".cartodb.com/api/v2/viz/"+self.cartoDBLayer.options.layer_definition.stat_tag+"/viz.json" !== actions.global.vizjson)) {
          this.map.removeLayer(this.cartoDBLayer);

          this.cartoDBLayer = null;
          this.created = false;
        }

        if (actions.global.vizjson && !this.cartoDBLayer) {
          if (!this.created) { // sendCode debounce < vis loader
            cdb.vis.Loader.get(actions.global.vizjson, function(vizjson) {
              self.map.fitBounds(vizjson.bounds);

              cartodb.createLayer(self.map, vizjson)
                .done(function(layer) {
                  self.cartoDBLayer = layer;

                  var sublayer = layer.getSubLayer(0),
                      layer_name = layer.layers[0].options.layer_name,
                      filter = actions.global.cartodb_filter ? " WHERE "+actions.global.cartodb_filter : "";

                  sublayer.setSQL("SELECT * FROM "+layer_name+filter)

                  self.map.addLayer(layer);

                  self._resetActions(actions);
                }).on('error', function(err) {
                  console.log("some error occurred: " + err);
                });
            });

            this.created = true;
          }

          return;
        }

        this._resetActions(actions);
      },

      _resetActions: function(actions) {
        // update footer title and author
        var title_ = actions.global.title === undefined ? '' : actions.global.title,
            author_ = actions.global.author === undefined ? 'Using' : 'By '+actions.global.author+' using';

        document.getElementById('title').innerHTML = title_;
        document.getElementById('author').innerHTML = author_;
        document.title = title_ + " | " + author_ +' Odyssey.js';

        var TRIGGER_LINE = this.map.getSize().y + 50;
        this.story.addEvent(
          this.edge,
          O.Parallel(
            O.Actions.CSS($('#map_container')).toggleClass('attachTop'),
            O.Actions.CSS($('#content')).toggleClass('attachMap'),
            O.Actions.Debug().log('attach')
          )
        )

        // create content
        var content = '';

        var slide_ = actions[0];
        $('#header').html(slide_.html());

        this.story
          .addState(
            O.Scroll().within($('#header')),
            slide_(this)
          );

        for(var i = 1; i < actions.length; ++i) {
          var slide = actions[i];
          content += "<div id='s_" + i +"'>" + slide.html() + "</div>";
        }

        $('#content').html(content);

        // first slide is the header, skip it
        for(var i = 1; i < actions.length; ++i) {
          var slide = actions[i];
          this.story.addState(
            O.Triggers.Scroll().within('s_' + i).offset(TRIGGER_LINE),
            O.Parallel(
              slide(this),
              this.miniprogressbar.percent(100*i/(actions.length - 1))
            )
          )
        }

        if(window.scrollY === 0) {
          this.story.go(0);
        }
      }
    });
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-20934186-21', 'cartodb.github.io');
    ga('send', 'pageview');
  </script>


<script id="md_template" type="text/template">```
-title: "–¢—É—Ä –ø–æ —Ä–∞–∑—Ä—É—à–µ–Ω–Ω—ã–º –º–æ—Å—Ç–∞–º –ü—Å–∫–æ–≤–∞"
-author: "madhape"
-baseurl: "https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg"
```


#–¢—É—Ä –ø–æ —Ä–∞–∑—Ä—É—à–µ–Ω–Ω—ã–º –º–æ—Å—Ç–∞–º –ü—Å–∫–æ–≤–∞
```
- center: [57.823787, 28.328502]
- zoom: 9
L.marker([57.823787, 28.328502]).actions.addRemove(S.map)
```

#–ú–æ—Å—Ç –≤ –†–∞–∑–¥–æ–ª—å–µ
```
- center: [57.707963, 28.264744]
- zoom: 12
```

–≠—Ç–æ —Å–∞–º—ã–µ —Å—Ç–∞—Ä—ã–µ —Ä–∞–∑—Ä—É—â–µ–Ω–∏—è - –≤—Ä–µ–º–µ–Ω WW2. –° —Ç–µ—Ö –ø–æ—Ä –º–æ—Å—Ç —Ç–∞–∫ –∏ –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∏, –¥–æ—Ä–æ–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –∫ –Ω–µ–º—É –≤–µ–ª–∏, —Ç–æ–∂–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–º —É–ø–∞–¥–∫–µ. 

–ù–æ –≤–æ–∫—Ä—É–≥ –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤–æ, –ª–µ—Ç–∞—é—Ç —á–∞–π–∫–∏ –∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∫—Ä—É—Ç—ã–µ —Å—Ç–µ–Ω—ã –∏–∑ –∏–∑–≤–µ—Å—Ç–Ω—è–∫–∞ –ø–æ –±–µ—Ä–µ–≥–∞–º. 

–°–∞–º–∞ —Ä–µ–∫–∞ —Ç—É—Ç –º–µ–ª–∫–∞—è –∏ –±—ã—Å—Ç—Ä–∞—è, –¥–Ω–æ —É—Å–µ—è–Ω–æ –∫–∞–º–Ω—è–º–∏. 
–ú–æ–∂–Ω–æ –ø—Ä–æ–π—Ç–∏, –ø—Ä–æ–ø–ª—ã—Ç—å –Ω–∞ —Ç–æ–º –∂–µ —Å–∞–ø–µ —Å–ª–æ–∂–Ω–æ–≤–∞—Ç–æ. 


ü¶Ü 5/5 —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ —Ä–∞–∑—Ä—É—á–µ–Ω–∏—è, —Å—Ç–æ–∏—Ç —Ç–æ–≥–æ, —á—Ç–æ–±—ã —ç—Ç–æ —É–≤–∏–¥–µ—Ç—å

![–ë—ã–≤—à–∏–π –º–æ—Å—Ç](https://live.staticflickr.com/65535/52195138988_47ba173392_k.jpg)

#–¢—Ä–æ–∏—Ü–∫–∏–π –º–æ—Å—Ç
```
- center: [57.821636, 28.332154]
- zoom: 15
```

–¢—Ä–æ–∏—Ü–∫–∏–π –º–æ—Å—Ç —Å–ª–æ–º–∞–ª–∏ –ø–æ–∑–¥–Ω–µ–π –æ—Å–µ–Ω—å—é 2021, –∞ –ø–æ—á–∏–Ω–∏—Ç—å –ø–ª–∞–Ω–∏—Ä—É—é—Ç –∫ –æ—Å–µ–Ω–∏ 2022. –í—Å–µ —ç—Ç–∏ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è - [—Ä–∞–¥–∏ —á—É–≥—É–Ω–Ω—ã—Ö —Ä–µ—à–µ—Ç–æ–∫ –∏ –ø–æ—Å—Ç–≤–µ—Ç–∫–∏](https://t.me/pskov_oblast/8680). 


–†–∞–Ω—å—à–µ –ø–æ –Ω–µ–º—É –±—ã–ª–æ —É–¥–æ–±–Ω–æ –µ–∑–¥–∏—Ç—å –≤ –±–∞—Ä 903 –∏ –ü–∏–≤–Ω–æ–π –¥–æ–º. 

–ü–æ–¥ –º–æ—Å—Ç–æ–º –∂–∏–≤–µ—Ç –¥–æ–≤–æ–ª—å–Ω–æ –º–Ω–æ–≥–æ —É—Ç–æ—á–µ–∫, –¥–∞–∂–µ –∑–∏–º–æ–π.  

ü¶Ü 4/5 –∑–∞ —É—Ç–æ—á–µ–∫ –∏ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞ –¥–ª—è –º–µ—Å—Ç–Ω—ã—Ö –∂–∏—Ç–µ–ª–µ–π 

![–¢—Ä–æ–∏—Ü–∫–∏–π –º–æ—Å—Ç](https://live.staticflickr.com/65535/52177962861_dc6e4e54ca_k.jpg)

#–ú–æ—Å—Ç –Ω–∞ –ì—Ä–µ–º—è—á–µ–π —É–ª–∏—Ü–µ
```
- center: [57.822347, 28.352632]
- zoom: 16
```

–ú–æ—Å—Ç –Ω–∞ –ì—Ä–µ–º—è—á–µ–π —É–ª–∏—Ü–µ –±—ã–ª –º–∞–ª–µ–Ω—å–∫–∏–º –∏ –ø–µ—à–µ—Ö–æ–¥–Ω—ã–º. 

–°–µ–π—á–∞—Å –æ–Ω –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –±—É–¥—Ç–æ –µ–≥–æ —Å–ª–æ–º–∞–ª –∫—Ä–∞–∫–µ–Ω –∏–ª–∏ –æ—Ç–∫—É—Å–∏–ª –¥–∏–Ω–æ–∑–∞–≤—Ä. 

–£—Ç–æ—á–µ–∫ –≤–æ–∫—Ä—É–≥ –∑–∞–º–µ—á–µ–Ω–æ –Ω–µ –±—ã–ª–æ. 

–ë—É–¥—É—Ç –ª–∏ –µ–≥–æ —á–∏–Ω–∏—Ç—å –∏ –∫–æ–≥–¥–∞ - –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ, –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ –º–Ω–µ. 

ü¶Ü 3/5 –∑–∞ –º–∞—Å—à—Ç–∞–±–Ω–æ—Å—Ç—å –∏ –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä—É—à–µ–Ω–∏–π

![–ú–æ—Å—Ç –Ω–∞ –ì—Ä–µ–º—è—á–µ–π —É–ª–∏—Ü–µ](https://live.staticflickr.com/65535/52177963136_2bd6d00363_k.jpg)</script></body></html>